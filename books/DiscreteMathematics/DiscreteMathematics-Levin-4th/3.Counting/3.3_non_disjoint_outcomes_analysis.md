# 3.3 Non-Disjoint Outcomes 분석

이 문서는 **3.3 Non-Disjoint Outcomes** 섹션의 내용을 분석하고 설명합니다. 이 섹션은 합의 법칙을 바로 적용할 수 없는, 즉 사건들이 서로 겹치는(Non-disjoint) 경우에 정확하게 경우의 수를 세는 방법을 다룹니다.

## 1. 섹션 개요 (Overview)

앞서 배운 합의 법칙은 두 사건이 동시에 일어날 수 없을 때(서로소)만 유효했습니다. 하지만 현실에서는 "수학을 좋아하거나 컴퓨터를 좋아하는 학생"처럼 두 조건에 모두 해당하는 경우가 빈번합니다. 이 섹션에서는 이러한 **중복(Overlap)**을 처리하여 정확한 개수를 구하는 **포함-배제의 원리(PIE)**를 배웁니다.

## 2. 벤 다이어그램을 이용한 카운팅 (Counting with Venn Diagrams)

* **시각화:** 집합 간의 관계를 원으로 표현하여 겹치는 부분을 직관적으로 파악합니다.
* **기본 아이디어:** 두 집합 $A$와 $B$의 합집합의 크기를 구할 때, 단순히 $|A| + |B|$를 하면 교집합 부분($A \cap B$)이 두 번 세어집니다.
* **해결책:** 두 번 세어진 교집합 부분을 한 번 빼주어야 합니다.

## 3. 포함-배제의 원리 (The Principle of Inclusion/Exclusion, PIE)

### 3.1 두 집합의 경우
>
> $$ |A \cup B| = |A| + |B| - |A \cap B| $$

* **설명:** $A$를 더하고(포함), $B$를 더하고(포함), 겹치는 $A \cap B$를 뺍니다(배제).

### 3.2 세 집합의 경우
>
> $$ |A \cup B \cup C| = |A| + |B| + |C| - (|A \cap B| + |A \cap C| + |B \cap C|) + |A \cap B \cap C| $$

* **과정:**
    1. 하나씩 더합니다 ($+ |A| + |B| + |C|$).
    2. 두 개씩 겹치는 부분을 뺍니다 ($- |A \cap B| - \dots$).
    3. 세 개가 모두 겹치는 부분은 너무 많이 빠졌으므로 다시 더합니다 ($+ |A \cap B \cap C|$).

## 4. 중복과 곱의 법칙 (Overlaps and the Product Principle)

포함-배제의 원리는 곱의 법칙과 결합하여 더 강력해집니다.

* **예시:** 길이 $n$인 비트 문자열 중 '00'으로 시작하거나 '11'로 끝나는 문자열의 개수는?
  * $A$: '00'으로 시작하는 집합 $\rightarrow 2^{n-2}$개 (곱의 법칙)
  * $B$: '11'로 끝나는 집합 $\rightarrow 2^{n-2}$개 (곱의 법칙)
  * $A \cap B$: '00'으로 시작하고 '11'로 끝나는 집합 $\rightarrow 2^{n-4}$개 (곱의 법칙)
  * **결과:** $2^{n-2} + 2^{n-2} - 2^{n-4}$

## 5. 요약

**3.3 Non-Disjoint Outcomes**는 "더했다가 빼는" 과정을 통해 중복을 보정하는 기술을 가르칩니다.

* 겹치는 부분이 있다면 단순히 더하면 안 됩니다.
* **포함-배제의 원리**를 사용하여 중복된 횟수만큼 정확히 빼주어야 합니다.
* 이 원리는 집합의 개수가 늘어나도 "홀수 개는 더하고, 짝수 개는 빼는" 패턴으로 확장됩니다.
