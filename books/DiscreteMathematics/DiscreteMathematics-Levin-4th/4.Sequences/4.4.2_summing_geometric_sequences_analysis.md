# 4.4.2 Summing Geometric Sequences 분석

이 문서는 **4.4.2 Summing Geometric Sequences** 섹션의 내용을 분석하고 설명합니다. 이 섹션은 등비수열의 합을 구하는 강력하고 우아한 방법인 **"Multiply, Shift, and Subtract"** 기법을 소개합니다.

## 1. 섹션 개요 (Overview)

등차수열의 합을 구할 때 "거꾸로 더하기(Reverse and Add)"를 사용했다면, 등비수열의 합을 구할 때는 공비($r$)를 곱해서 빼는 방식을 사용합니다. 이 방법은 대부분의 항을 소거(cancel out)시켜 간단한 결과만 남기는 대수적 트릭에 기반합니다.

## 2. "Multiply, Shift, and Subtract" 기법

이 기법의 목표는 $S = a + ar + ar^2 + \dots + ar^n$의 닫힌 공식을 찾는 것입니다.

### 2.1 단계별 과정

1. **원래의 합 쓰기:**
    $$ S = a + ar + ar^2 + \dots + ar^{n-1} + ar^n $$

2. **공비 곱하기 (Multiply):** 양변에 공비 $r$을 곱합니다.
    $$ rS = ar + ar^2 + ar^3 + \dots + ar^n + ar^{n+1} $$

3. **이동 및 뺄셈 (Shift and Subtract):** 두 식을 뺍니다. 이때 $rS$의 항들을 오른쪽으로 한 칸씩 **이동(Shift)**하여 같은 차수끼리 정렬되었다고 상상하면 소거되는 과정이 더 잘 보입니다.
    $$
    \begin{aligned}
    S &= a + ar + ar^2 + \dots + ar^n \\
    - \quad rS &= \quad \phantom{a +} ar + ar^2 + \dots + ar^n + ar^{n+1} \\
    \hline
    S - rS &= a - ar^{n+1}
    \end{aligned}
    $$
    중간의 모든 항($ar$부터 $ar^n$까지)이 사라지고, 첫 항($a$)과 마지막 항에 $r$이 곱해진 항($ar^{n+1}$)만 남습니다.

4. **정리:** $S$에 대해 식을 정리합니다.
    $$ S(1-r) = a(1 - r^{n+1}) $$
    $$ S = a \frac{1 - r^{n+1}}{1 - r} $$

## 3. 공식의 의미 (Understanding the Formula)

$$ S_n = \frac{\text{첫 항} - \text{마지막 항} \times \text{공비}}{1 - \text{공비}} $$

또는 더 일반적으로:
$$ S_n = a \frac{r^{n+1} - 1}{r - 1} $$

* **$n$의 의미:** 더하는 마지막 항의 지수가 $n$일 때, 항의 개수는 $n+1$개입니다. 공식의 지수가 $n+1$인 이유입니다.
* **$r=1$인 경우:** 분모가 0이 되므로 이 공식을 사용할 수 없습니다. 하지만 $r=1$이면 $S = a + a + \dots + a = (n+1)a$가 되므로 별도의 공식이 필요 없습니다.

## 4. 예시: 2의 거듭제곱의 합

* $S = 1 + 2 + 4 + \dots + 2^n$
* 여기서 $a=1, r=2$입니다.
* 공식 적용: $S = 1 \cdot \frac{2^{n+1} - 1}{2 - 1} = 2^{n+1} - 1$.
* 이진수 체계에서 $111\dots1_2 = 100\dots0_2 - 1$인 것과 같은 원리입니다.

## 5. 요약

**4.4.2 Summing Geometric Sequences**는 등비급수의 합을 구하는 일반적인 알고리즘을 제공합니다. 이 "Multiply, Shift, and Subtract" 기법은 단순히 공식을 암기하는 것보다 훨씬 중요하며, 나중에 무한 등비급수나 생성 함수(Generating Functions)를 다룰 때도 동일하게 적용되는 핵심 원리입니다.
