# 20.1 합동식의 기초 (Modular Arithmetic Fundamentals)

## 1. 개요 (Overview)

합동식(Modular Arithmetic)은 정수론에서 나머지를 다루는 체계적인 방법입니다. 흔히 "시계 산술(Clock Arithmetic)"이라고도 불리며, AMC 8에서 날짜 계산, 일의 자리 수 찾기, 큰 수의 나머지 구하기 등의 문제에 필수적으로 사용됩니다.

## 2. 정의 (Definition)

두 정수 $a, b$를 양의 정수 $n$으로 나누었을 때 **나머지가 같다면**, $a$와 $b$는 법(Modulus) $n$에 대해 **합동(Congruent)**이라고 합니다.

$$ a \equiv b \pmod n $$

- **의미 1:** $a$를 $n$으로 나눈 나머지와 $b$를 $n$으로 나눈 나머지가 같다.
- **의미 2:** $a - b$는 $n$의 배수이다. ($n$은 $a-b$를 나눈다)

## 3. 기본 성질 (Basic Properties)

합동식은 등식처럼 더하기, 빼기, 곱하기가 가능합니다. (나누기는 주의가 필요함)

1.  **덧셈:** $a \equiv b, c \equiv d \pmod n \implies a + c \equiv b + d \pmod n$
2.  **뺄셈:** $a \equiv b, c \equiv d \pmod n \implies a - c \equiv b - d \pmod n$
3.  **곱셈:** $a \equiv b, c \equiv d \pmod n \implies a \times c \equiv b \times d \pmod n$
4.  **거듭제곱:** $a \equiv b \pmod n \implies a^k \equiv b^k \pmod n$

이 성질 덕분에 큰 수를 직접 계산하지 않고, 나머지끼리만 계산하여 결과를 얻을 수 있습니다.

## 4. 예제 (Examples)

### 예제 1: 기본 연산

$123 \times 456$을 $5$로 나눈 나머지는?

- $123 \equiv 3 \pmod 5$
- $456 \equiv 1 \pmod 5$ (끝자리가 6이므로)
- $123 \times 456 \equiv 3 \times 1 \equiv 3 \pmod 5$.
- **정답:** 3.

### 예제 2: 날짜 계산 (Calendar Problem)

오늘은 화요일이다. 100일 후는 무슨 요일인가?

- 요일은 7일 주기로 반복되므로 법(Modulus)은 7.
- $100 \div 7 = 14$ 나머지 $2$.
- $100 \equiv 2 \pmod 7$.
- 화요일 + 2일 = 목요일.
- **정답:** 목요일.

### 예제 3: 음수의 나머지

$-2 \pmod 5$는?

- 시계 바늘을 거꾸로 돌리는 것과 같습니다.
- $-2 + 5 = 3$.
- 또는 $-2 \equiv 3 \pmod 5$.
- **정답:** 3.

## 5. 코드 구현 (Code Implementation)

Python에서는 `%` 연산자를 사용하여 나머지를 구합니다. 거듭제곱의 나머지는 `pow(base, exp, mod)` 함수가 매우 효율적입니다.

```python
def modular_arithmetic_demo():
    # 1. 기본 나머지 연산
    a = 123
    b = 456
    n = 5

    remainder_product = (a * b) % n
    remainder_parts = ((a % n) * (b % n)) % n

    print(f"({a} * {b}) % {n} = {remainder_product}")
    print(f"(({a}%{n}) * ({b}%{n})) % {n} = {remainder_parts}") # 결과가 같음

    # 2. 날짜 계산
    days_later = 100
    # 0:Mon, 1:Tue, ..., 6:Sun
    current_day_idx = 1 # Tuesday
    days = ["Mon", "Tue", "Wed", "Thu", "Fri", "Sat", "Sun"]

    future_day_idx = (current_day_idx + days_later) % 7
    print(f"100 days after Tuesday is: {days[future_day_idx]}")

    # 3. 거듭제곱의 나머지 (Modular Exponentiation)
    # 2^100 mod 7
    # pow(base, exp, mod)는 매우 큰 수도 빠르게 계산함
    mod_pow = pow(2, 100, 7)
    print(f"2^100 mod 7 = {mod_pow}")

modular_arithmetic_demo()
```

## 6. 요약 (Summary)

- **정의:** $a \equiv b \pmod n$은 나머지가 같다는 뜻.
- **성질:** 큰 수의 연산 대신 나머지끼리의 연산으로 대체 가능.
- **활용:** 요일 계산, 일의 자리 수 구하기 등에 사용.
