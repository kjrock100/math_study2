# 22.1 회문수 (Palindromes)

## 1. 개요 (Overview)

회문수(Palindrome Number)는 앞에서부터 읽으나 뒤에서부터 읽으나 동일한 수를 말합니다. 영어 단어 "LEVEL"이나 "RACECAR"와 같은 개념을 숫자에 적용한 것입니다. AMC 8에서는 주로 특정 범위 내의 회문수 개수를 세거나, 회문수의 성질을 이용한 연산 문제가 출제됩니다.

## 2. 정의 및 성질 (Definition & Properties)

### 2.1 정의

자연수 $N$의 자릿수를 역순으로 배열한 수가 원래의 $N$과 같으면 $N$은 회문수입니다.

- 예: $121, 55, 12321, 7$.
- 반례: $123$ (역순 $321 \neq 123$).

### 2.2 성질

- **대칭성:** 회문수는 가운데를 기준으로 대칭을 이룹니다.
- **구성:** $n$자리 회문수를 만들기 위해서는 앞쪽 절반(약 $\lceil n/2 \rceil$개)의 숫자만 결정하면, 나머지 뒤쪽은 자동으로 결정됩니다.

## 3. 회문수 세기 (Counting Palindromes)

회문수의 개수를 셀 때는 **자릿수 만들기(Constructive Counting)** 전략을 사용합니다. 맨 앞자리는 0이 될 수 없음에 주의해야 합니다.

### 3.1 홀수 자리 ($2k+1$ 자리)

가운데 숫자를 포함한 앞쪽 $k+1$개의 숫자를 선택하면 됩니다.

- 예: 3자리 회문수 ($ABA$)
  - $A$: $1 \sim 9$ (9가지)
  - $B$: $0 \sim 9$ (10가지)
  - 총 개수: $9 \times 10 = 90$개.

### 3.2 짝수 자리 ($2k$ 자리)

앞쪽 $k$개의 숫자를 선택하면 뒤쪽 $k$개는 대칭으로 정해집니다.

- 예: 4자리 회문수 ($ABBA$)
  - $A$: $1 \sim 9$ (9가지)
  - $B$: $0 \sim 9$ (10가지)
  - 총 개수: $9 \times 10 = 90$개.

> **참고:** $2k-1$자리 회문수와 $2k$자리 회문수의 개수는 $9 \times 10^{k-1}$개로 동일합니다. (예: 3자리와 4자리는 모두 90개)

## 4. 예제 (Examples)

### 예제 1: 개수 세기

1부터 1000까지의 자연수 중 회문수는 모두 몇 개인가?

- **1자리:** $1 \sim 9$ (9개)
- **2자리:** $AA$ ($11 \sim 99$) $\rightarrow 9$개.
- **3자리:** $ABA$ ($9 \times 10$) $\rightarrow 90$개.
- **4자리:** 1000은 회문수가 아님.
- **총합:** $9 + 9 + 90 = 108$개.

### 예제 2: 가장 가까운 회문수

2023보다 큰 가장 작은 회문수는?

- 2023은 4자리 수이므로 형태는 $ABBA$.
- 앞 두 자리가 $20$이라면 뒤는 $02$여야 함 $\rightarrow 2002$ (2023보다 작음).
- 앞 두 자리를 $21$로 증가 $\rightarrow 2112$ (2023보다 큼).
- **정답:** 2112.

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 회문수를 판별하고, 특정 자릿수의 회문수 개수를 계산하는 함수입니다.

```python
def is_palindrome(n):
    """숫자 n이 회문수인지 판별"""
    s = str(n)
    return s == s[::-1]

def count_palindromes_with_digits(num_digits):
    """
    num_digits 자릿수를 가진 회문수의 개수 반환
    공식: 9 * 10^((L-1)//2)
    """
    if num_digits < 1: return 0
    # 앞쪽 절반의 자릿수 (홀수일 때 가운데 포함)
    half_len = (num_digits + 1) // 2
    # 첫 자리는 1~9 (9가지), 나머지는 0~9 (10가지)
    return 9 * (10 ** (half_len - 1))

def find_next_palindrome(n):
    """n보다 큰 가장 작은 회문수 찾기"""
    curr = n + 1
    while not is_palindrome(curr):
        curr += 1
    return curr

# 테스트
print(f"Is 12321 palindrome? {is_palindrome(12321)}") # Expected: True
print(f"Count of 3-digit palindromes: {count_palindromes_with_digits(3)}") # Expected: 90
print(f"Count of 4-digit palindromes: {count_palindromes_with_digits(4)}") # Expected: 90
print(f"Next palindrome after 2023: {find_next_palindrome(2023)}") # Expected: 2112
```

## 6. 요약 (Summary)

- **판별:** 문자열로 변환하여 뒤집어도 같은지 확인합니다.
- **개수:** 앞쪽 절반의 경우의 수만 세면 됩니다. (첫 자리는 0 제외)
- **패턴:** 자릿수가 늘어날 때 개수는 $9, 9, 90, 90, 900, 900 \dots$ 순으로 증가합니다.
