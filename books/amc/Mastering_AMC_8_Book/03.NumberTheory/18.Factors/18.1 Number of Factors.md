# 18.1 약수의 개수 (Number of Factors)

## 1. 개요 (Overview)

약수(Factor 또는 Divisor)의 개수를 세는 것은 정수론의 가장 기본적이면서도 중요한 주제입니다. 일일이 나열하지 않고 소인수분해를 통해 개수를 빠르게 구하는 공식과, 약수의 개수가 홀수인 수(완전제곱수)의 성질은 AMC 8에서 매우 자주 출제됩니다.

## 2. 공식 및 원리 (Formula & Principle)

### 2.1 공식

자연수 $N$을 소인수분해하여 $N = p_1^{e_1} \times p_2^{e_2} \times \dots \times p_k^{e_k}$ 꼴로 나타냈을 때, 약수의 개수 $d(N)$은 다음과 같습니다.

$$ d(N) = (e_1 + 1)(e_2 + 1)\dots(e_k + 1) $$

### 2.2 원리 (Why?)

각 소인수 $p_i$를 선택할 수 있는 방법은 $0$개부터 $e_i$개까지 총 $(e_i + 1)$가지입니다. 각 소인수별 선택은 독립적이므로 곱의 법칙을 적용합니다.

## 3. 주요 성질 (Key Properties)

### 3.1 약수의 개수가 홀수인 수

약수의 개수가 홀수(Odd)인 수는 **완전제곱수(Perfect Square)**뿐입니다.

- 이유: 약수는 보통 $(a, b)$ 쌍으로 존재하여 $a \times b = N$을 만족합니다. 하지만 $N$이 완전제곱수라면 $\sqrt{N} \times \sqrt{N} = N$이 되어, $\sqrt{N}$은 짝이 없는 하나의 약수가 됩니다.
- 수식적 이유: 모든 지수 $e_i$가 짝수여야 $(e_i+1)$이 홀수가 되고, 홀수들의 곱은 홀수가 됩니다.

### 3.2 약수의 개수가 소수인 수

약수의 개수가 소수(Prime) $P$라면, 그 수는 $q^{P-1}$ 꼴이어야 합니다. (단, $q$는 소수)

- 예: 약수가 3개인 수 $\rightarrow$ 소수의 제곱수 ($2^2=4, 3^2=9, 5^2=25 \dots$).

## 4. 예제 (Examples)

### 예제 1: 약수의 개수 구하기

$200$의 약수의 개수는?

- 소인수분해: $200 = 2 \times 100 = 2 \times 10^2 = 2 \times (2 \times 5)^2 = 2^3 \times 5^2$.
- 계산: $(3+1)(2+1) = 4 \times 3 = 12$개.

### 예제 2: 완전제곱수 판별

$1$부터 $100$까지의 자연수 중 약수의 개수가 홀수인 수는 몇 개인가?

- 약수 개수가 홀수 $\iff$ 완전제곱수.
- $1^2, 2^2, \dots, 10^2$ 까지 총 10개.

### 예제 3: 역추적 (Reverse Problem)

약수의 개수가 4개인 가장 작은 자연수는?

- Case 1: 소인수가 1개일 때 ($p^3$) $\rightarrow 2^3 = 8$.
- Case 2: 소인수가 2개일 때 ($p_1^1 \times p_2^1$) $\rightarrow 2^1 \times 3^1 = 6$.
- 비교: $6 < 8$. 정답은 6.

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 약수의 개수를 구하고, 완전제곱수인지 판별하는 함수입니다.

```python
def count_factors(n):
    """
    약수의 개수를 구하는 함수
    """
    if n == 1: return 1

    count = 1
    d = 2
    temp = n

    while d * d <= temp:
        exponent = 0
        while temp % d == 0:
            exponent += 1
            temp //= d
        if exponent > 0:
            count *= (exponent + 1)
        d += 1

    if temp > 1:
        count *= 2 # 지수가 1인 소인수가 남음 -> (1+1) 곱함

    return count

def is_perfect_square_by_factors(n):
    """
    약수의 개수가 홀수인지 확인하여 완전제곱수 판별
    """
    factors = count_factors(n)
    return factors % 2 == 1

# 테스트
print(f"Factors of 200: {count_factors(200)}") # Expected: 12
print(f"Is 36 a perfect square? {is_perfect_square_by_factors(36)}") # Expected: True (Factors: 9)
print(f"Is 10 a perfect square? {is_perfect_square_by_factors(10)}") # Expected: False (Factors: 4)
```

## 6. 요약 (Summary)

- **공식:** 지수에 1 더해서 곱한다.
- **완전제곱수:** 약수의 개수가 **홀수**이다.
- **소수:** 약수의 개수가 **2개**이다.
