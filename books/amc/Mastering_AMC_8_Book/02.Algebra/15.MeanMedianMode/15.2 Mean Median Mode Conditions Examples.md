# 15.2 평균, 중앙값, 최빈값의 조건과 예제 (Mean, Median, Mode Conditions Examples)

## 1. 개요 (Overview)

이 장에서는 대푯값(평균, 중앙값, 최빈값)에 대한 특정 조건이 주어졌을 때, 자료 집합의 구성 요소를 추론하거나 최댓값/최솟값을 구하는 심화 문제를 다룹니다. AMC 8에서는 "서로 다른 양의 정수"와 같은 제약 조건 하에서 특정 숫자를 최대화하거나 최소화하는 문제가 빈출됩니다.

## 2. 문제 해결 전략 (Problem Solving Strategies)

### 2.1 총합의 원리 (Sum Principle)

평균이 주어지면 가장 먼저 **총합(Sum)**을 구해야 합니다.
$$ \text{Sum} = \text{Mean} \times \text{Count} $$
개별 숫자는 모르더라도 합은 고정되어 있다는 점을 이용합니다.

### 2.2 정렬과 위치 (Sorting & Positioning)

중앙값 문제에서는 자료를 크기 순서대로 ($x_1 \le x_2 \le \dots \le x_n$) 나열하는 것이 필수입니다.

- 홀수 개($2k+1$): $x_{k+1}$이 중앙값.
- 짝수 개($2k$): $\frac{x_k + x_{k+1}}{2}$가 중앙값.

### 2.3 최적화 전략 (Optimization)

특정 원소 $x_k$를 **최대화(Maximize)**하려면, 나머지 원소들을 가능한 한 **최소화(Minimize)**해야 합니다.

- **제약 조건 확인:** "양의 정수(Positive Integers)", "서로 다른(Distinct)", "정수(Integers)" 등의 조건을 꼼꼼히 확인해야 합니다.

## 3. 예제 (Examples)

### 예제 1: 최댓값 찾기 (서로 다른 양의 정수)

서로 다른 5개의 양의 정수의 평균이 12일 때, 이 중 가장 큰 수는 얼마가 될 수 있는가?

1.  **총합:** $12 \times 5 = 60$.
2.  **전략:** 가장 큰 수($x_5$)를 구하려면 나머지 4개($x_1, x_2, x_3, x_4$)를 최소로 만들어야 함.
3.  **최소화:** 서로 다른 양의 정수이므로 $1, 2, 3, 4$를 선택.
4.  **계산:**
    $$ 1 + 2 + 3 + 4 + x_5 = 60 $$
    $$ 10 + x_5 = 60 \implies x_5 = 50 $$
5.  **정답:** 50.

### 예제 2: 중앙값과 최빈값 조건

5개의 양의 정수가 있다. 평균은 10, 중앙값은 12, 최빈값은 15이다. 이 중 가장 작은 수는?

1.  **변수 설정:** 크기 순으로 $a, b, c, d, e$.
2.  **조건 적용:**
    - 평균 10 $\rightarrow$ 합 = 50.
    - 중앙값 12 $\rightarrow c = 12$.
    - 최빈값 15 $\rightarrow$ 15가 가장 많이 등장해야 함. $c=12$이므로 $d, e$는 12보다 크거나 같음. 따라서 $d=15, e=15$여야 함 (15가 두 번).
3.  **식 세우기:**
    $$ a + b + 12 + 15 + 15 = 50 $$
    $$ a + b + 42 = 50 \implies a + b = 8 $$
4.  **최소화:** $a$를 구해야 함. $a$가 작아지려면 $b$가 커야 함. 단, $a \le b < 12$ (이미 정렬됨).
    - $b$를 최대로 하면 $a$는 최소가 됨.
    - $b$는 12보다 작아야 하고(같으면 중앙값이 모호해지거나 최빈값 조건 충돌 가능성).
    - 만약 최빈값이 유일하게 15라면 $b \neq 15$ (당연히 $b \le 12$), $b \neq 12$.
    - $b$의 최댓값은? $a, b$는 양의 정수. $a+b=8$.
    - 가능한 $(a, b)$ 쌍: $(1, 7), (2, 6), (3, 5), (4, 4)$.
    - $b=4$면 $a=4$. 이때 집합 $\{4, 4, 12, 15, 15\}$는 최빈값이 4와 15가 됨. (조건 위배 가능성).
    - 따라서 $a \neq b$인 경우를 찾으면 가장 작은 $a$는 1 (이때 $b=7$).
5.  **정답:** 1.

## 4. 코드 구현 (Code Implementation)

Python을 사용하여 주어진 리스트가 평균, 중앙값, 최빈값 조건을 만족하는지 검증하고, 최댓값 문제를 해결하는 시뮬레이션 코드입니다.

```python
from collections import Counter
import statistics

def check_conditions(data, target_mean=None, target_median=None, target_mode=None):
    """
    데이터가 주어진 통계 조건을 만족하는지 검증
    """
    # 1. 평균 검증
    if target_mean is not None:
        current_mean = sum(data) / len(data)
        if current_mean != target_mean:
            return False, f"Mean mismatch: {current_mean} != {target_mean}"

    # 2. 중앙값 검증
    if target_median is not None:
        current_median = statistics.median(data)
        if current_median != target_median:
            return False, f"Median mismatch: {current_median} != {target_median}"

    # 3. 최빈값 검증
    if target_mode is not None:
        counts = Counter(data)
        max_freq = max(counts.values())
        modes = [k for k, v in counts.items() if v == max_freq]
        if len(modes) != 1 or modes[0] != target_mode:
             return False, f"Mode mismatch: {modes} != {target_mode}"

    return True, "All conditions met"

def solve_max_integer(count, mean, distinct=True):
    """
    서로 다른 양의 정수 count개의 평균이 mean일 때,
    가장 큰 수의 최댓값을 계산
    """
    total_sum = mean * count

    # 나머지 (count - 1)개를 최소화
    # 서로 다른 양의 정수이므로 1, 2, ..., count-1
    min_sum_others = sum(range(1, count))

    max_val = total_sum - min_sum_others

    # 검증: max_val이 나머지 중 가장 큰 값(count-1)보다 커야 함
    if max_val <= count - 1:
        return None # 불가능한 경우

    return max_val

# 테스트
# 예제 1: 5개, 평균 12, 서로 다른 양의 정수 -> 최대 원소?
max_val = solve_max_integer(5, 12)
print(f"Max possible integer (5 distinct, mean 12): {max_val}") # Expected: 60 - (1+2+3+4) = 50

# 예제 2 검증: {1, 7, 12, 15, 15}
data_ex2 = [1, 7, 12, 15, 15]
valid, msg = check_conditions(data_ex2, target_mean=10, target_median=12, target_mode=15)
print(f"Example 2 Check: {valid} ({msg})")
```

## 5. 요약 (Summary)

- **합은 불변:** 평균 조건은 항상 합($S = n \times m$)으로 변환하여 생각합니다.
- **최대/최소:** 하나의 값을 최대화하려면 나머지를 최소화합니다. (반대도 성립)
- **구성하기:** 중앙값, 최빈값 조건을 만족하는 수열을 직접 $a, b, c \dots$로 놓고 빈칸을 채우듯 풉니다.
