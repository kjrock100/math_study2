# 14.3 등비수열 (Geometric Sequences)

## 1. 개요 (Overview)

등비수열(Geometric Sequence)은 이웃하는 항의 비(Ratio)가 일정한 수열입니다. 등차수열과 함께 수열 문제의 양대 산맥을 이루며, 특히 **무한등비급수**는 기하학적 프랙탈이나 순환소수 문제와 연결되어 AMC 8 고난도 문제로 출제되기도 합니다.

## 2. 기본 개념 (Basic Concepts)

### 2.1 정의 및 일반항

첫째항이 $a$, 공비(Common Ratio)가 $r$인 수열입니다.
$$ a_n = a \cdot r^{n-1} $$

- **공비 $r$:** $r = \frac{a_{n+1}}{a_n}$. 양수, 음수, 분수 모두 가능합니다.

### 2.2 등비중항 (Geometric Mean)

세 수 $x, y, z$가 순서대로 등비수열을 이룰 때, 가운데 항 $y$는 $x$와 $z$의 기하평균입니다.
$$ y^2 = xz \quad (\text{또는 } y = \sqrt{xz}) $$

## 3. 등비수열의 합 (Sum of Geometric Series)

### 3.1 유한 등비급수 (Finite Sum)

첫째항부터 $n$항까지의 합 $S_n$은 다음과 같습니다 ($r \neq 1$).
$$ S_n = \frac{a(r^n - 1)}{r - 1} = \frac{a(1 - r^n)}{1 - r} $$

### 3.2 무한 등비급수 (Infinite Geometric Series)

항의 개수가 무한히 계속되는 경우입니다. AMC 8에서는 공비의 절댓값이 1보다 작은 경우($|r| < 1$) 수렴하는 합을 묻습니다.
$$ S\_\infty = \frac{a}{1 - r} $$

- **응용:** 순환소수를 분수로 고칠 때, 공이 튀어 오르는 총 거리 구할 때 사용됩니다.

## 4. 예제 (Examples)

### 예제 1: 일반항 구하기

수열 $3, 6, 12, 24, \dots$ 의 10번째 항은?

- $a = 3, r = 2$.
- $a_{10} = 3 \cdot 2^{10-1} = 3 \cdot 2^9 = 3 \cdot 512 = 1536$.

### 예제 2: 무한등비급수 (도형)

한 변의 길이가 1인 정사각형의 절반을 칠하고, 남은 부분의 절반을 칠하는 과정을 무한히 반복할 때, 칠한 부분의 넓이의 합은?

- 넓이: $\frac{1}{2} + \frac{1}{4} + \frac{1}{8} + \dots$
- $a = \frac{1}{2}, r = \frac{1}{2}$.
- $S = \frac{1/2}{1 - 1/2} = \frac{1/2}{1/2} = 1$. (전체 정사각형 넓이와 같음)

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 등비수열의 $n$번째 항과 유한/무한 합을 계산하는 함수입니다.

```python
def geometric_sequence_term(a, r, n):
    """등비수열의 n번째 항"""
    return a * (r ** (n - 1))

def geometric_series_sum(a, r, n=None):
    """
    등비수열의 합 계산
    n이 주어지면 유한합, n이 None이면 무한합(수렴 조건 확인)
    """
    if n is not None:
        # 유한 등비급수
        if r == 1:
            return a * n
        return a * (1 - r**n) / (1 - r)
    else:
        # 무한 등비급수
        if abs(r) >= 1:
            return float('inf') # 발산
        return a / (1 - r)

# 테스트
print(f"10th term of 3, 6, 12...: {geometric_sequence_term(3, 2, 10)}") # Expected: 1536
print(f"Sum of first 10 terms: {geometric_series_sum(3, 2, 10)}")      # Expected: 3*(1023) = 3069

# 무한 등비급수: 1/2 + 1/4 + 1/8 ...
print(f"Infinite Sum (a=0.5, r=0.5): {geometric_series_sum(0.5, 0.5)}") # Expected: 1.0
```

## 6. 요약 (Summary)

- **일반항:** $a_n = ar^{n-1}$.
- **유한합:** $S_n = \frac{a(1-r^n)}{1-r}$.
- **무한합:** $S_\infty = \frac{a}{1-r}$ (단, $|r|<1$).
- **등비중항:** $b^2 = ac$.
