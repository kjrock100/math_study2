# 11.3 실전 문제 (Practice Problems)

## 1. 개요 (Overview)

이 장에서는 11.1장과 11.2장에서 다룬 비율(Ratio), 속력(Rate), 일(Work)의 개념을 통합하여 실전 문제를 해결합니다. 단순한 공식 대입을 넘어, 상황에 따라 비율이 변하거나(Changing Ratios), 여러 요소가 동시에 작용하는(Combined Rates) 복합적인 문제들을 다룹니다.

## 2. 주요 문제 유형 (Key Problem Types)

1.  **비율의 변화 (Changing Ratios):** 어떤 양이 추가되거나 제거되어 비율이 변할 때, 원래의 양을 구하는 문제.
2.  **평균 속력 심화 (Average Speed):** 시간 기준 평균(산술 평균)과 거리 기준 평균(조화 평균)을 구분하는 문제.
3.  **복합 일률 (Pipes and Cisterns):** 물을 채우는 파이프와 빼는 배수구가 동시에 작동할 때의 걸리는 시간 계산.
4.  **단위 변환 (Unit Conversion):** 속력이나 비율 문제에서 단위가 섞여 있는 경우 (예: 분속 vs 시속).

## 3. 예제 문제 및 풀이 (Sample Problems & Solutions)

### 문제 1: 비율의 변화

주머니에 빨간 구슬과 파란 구슬이 $3:5$의 비율로 들어있다. 파란 구슬 10개를 더 넣었더니 비율이 $3:7$이 되었다. 처음에 있던 빨간 구슬의 개수는?

- **전략:** 비례 상수 $x$를 사용합니다.
- 초기 상태: 빨강 $3x$, 파랑 $5x$.
- 변화 후: 빨강 $3x$, 파랑 $5x + 10$.
- 비례식: $3x : (5x + 10) = 3 : 7$.
- 계산:
  $$ \frac{3x}{5x+10} = \frac{3}{7} \implies 21x = 3(5x+10) \implies 21x = 15x + 30 \implies 6x = 30 \implies x = 5 $$
- **정답:** 빨간 구슬 = $3x = 3(5) = 15$개.

### 문제 2: 거리 기준 평균 속력

A도시에서 B도시로 갈 때는 60 mph로 운전하고, 돌아올 때는 40 mph로 운전했다. 왕복 평균 속력은?

- **주의:** $(60+40)/2 = 50$이 **아닙니다**. 거리가 같을 때는 조화 평균을 사용합니다.
- 거리 $d$ 가정: 갈 때 시간 $d/60$, 올 때 시간 $d/40$.
- 총 거리: $2d$.
- 총 시간: $\frac{d}{60} + \frac{d}{40} = \frac{2d}{120} + \frac{3d}{120} = \frac{5d}{120} = \frac{d}{24}$.
- 평균 속력: $\frac{2d}{d/24} = 48$ mph.

### 문제 3: 물탱크 채우기 (일률의 덧셈과 뺄셈)

파이프 A는 물탱크를 3시간 만에 채우고, 파이프 B는 6시간 만에 채운다. 배수구 C는 가득 찬 물탱크를 4시간 만에 비운다. 셋을 모두 열었을 때 물탱크가 가득 차는 시간은?

- **전략:** 채우는 것은 $(+)$, 비우는 것은 $(-)$ 일률로 계산합니다.
- $R_A = \frac{1}{3}$, $R_B = \frac{1}{6}$, $R_C = -\frac{1}{4}$.
- 합성 일률: $\frac{1}{3} + \frac{1}{6} - \frac{1}{4} = \frac{4}{12} + \frac{2}{12} - \frac{3}{12} = \frac{3}{12} = \frac{1}{4}$.
- **정답:** 일률이 $1/4$이므로, **4시간** 걸립니다.

## 4. 코드 구현 (Code Implementation)

Python을 사용하여 비율 변화 문제와 복합 일률 문제를 해결하는 함수입니다.

```python
def solve_changing_ratio(init_ratio_a, init_ratio_b, added_b, final_ratio_a, final_ratio_b):
    """
    A:B = ra:rb 에서 B에 added_b만큼 더했더니 A:B' = fa:fb가 된 경우
    초기 A의 양을 구함.
    식: (ra * x) / (rb * x + added) = fa / fb
    """
    # (ra * x) * fb = fa * (rb * x + added)
    # ra*fb*x = fa*rb*x + fa*added
    # x * (ra*fb - fa*rb) = fa*added
    # x = (fa*added) / (ra*fb - fa*rb)

    numerator = final_ratio_a * added_b
    denominator = (init_ratio_a * final_ratio_b) - (final_ratio_a * init_ratio_b)

    if denominator == 0:
        return None # 해가 없음

    x = numerator / denominator
    return init_ratio_a * x

def solve_tank_problem(fill_times, drain_times):
    """
    fill_times: 채우는 파이프들의 시간 리스트
    drain_times: 비우는 파이프들의 시간 리스트
    """
    rate_sum = 0
    for t in fill_times:
        rate_sum += 1 / t
    for t in drain_times:
        rate_sum -= 1 / t

    if rate_sum <= 0:
        return float('inf') # 절대 안 참

    return 1 / rate_sum

# 테스트
print(f"문제 1 (Red Marbles): {solve_changing_ratio(3, 5, 10, 3, 7)}") # Expected: 15.0
print(f"문제 3 (Tank Time): {solve_tank_problem([3, 6], [4])} hours")   # Expected: 4.0
```

## 5. 요약 (Summary)

- **비율 문제:** $x$를 도입하여 방정식($ax : bx$)을 세우는 것이 가장 확실합니다.
- **평균 속력:** $\frac{\text{Total Distance}}{\text{Total Time}}$ 원칙을 고수해야 합니다.
- **일률:** 함께 일할 때는 속도(Rate)를 더하고, 방해(비우기)할 때는 뺍니다.

```

<!--
[PROMPT_SUGGESTION]12.1 Number Theory Advanced 장의 내용을 분석해서 설명하는 markdown 파일을 만들어줘[/PROMPT_SUGGESTION]
[PROMPT_SUGGESTION]소금물 농도 문제(Mixture Problems)를 해결하는 방정식 세우기 전략과 Python 코드를 알려줘[/PROMPT_SUGGESTION]
-->
```
