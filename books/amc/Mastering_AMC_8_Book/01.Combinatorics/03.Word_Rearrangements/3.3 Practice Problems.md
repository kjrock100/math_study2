# 3.3 실전 문제 (Practice Problems)

## 1. 개요 (Overview)

이 장에서는 3.1과 3.2에서 다룬 '같은 것이 있는 순열(Permutations with Repetition)'과 다양한 제약 조건이 있는 단어 배열 문제를 종합적으로 연습합니다. 또한, 단어 배열의 개념이 기하학적 문제인 **최단 경로(Grid Paths)** 문제와 어떻게 연결되는지 알아보고, **사전식 배열(Lexicographical Order)** 문제도 다룹니다.

## 2. 주요 문제 유형 (Key Problem Types)

1.  **단어 재배열:** 중복된 문자가 있는 단어의 아나그램 개수 구하기.
2.  **조건부 배열:** 특정 문자가 이웃하거나, 양 끝에 오는 등 제약이 있는 경우.
3.  **최단 경로 (Grid Paths):** 격자무늬에서 A지점에서 B지점으로 가는 최단 경로의 수. (가로 이동을 R, 세로 이동을 U로 치환하여 해결)
4.  **사전식 순서:** 단어들을 알파벳 순서로 나열했을 때 특정 단어의 순서 찾기.

## 3. 예제 문제 및 풀이 (Sample Problems & Solutions)

### 문제 1: 기본 재배열 (Basic Rearrangement)

단어 **"APPLE"**의 문자를 일렬로 나열하는 방법의 수는?

- 전체 문자: 5개 (A, P, P, L, E)
- 중복 문자: P (2개)
- 계산: $\frac{5!}{2!} = \frac{120}{2} = 60$

### 문제 2: 최단 경로 (Grid Paths)

가로 3칸, 세로 2칸인 직사각형 격자에서 왼쪽 아래(Start)에서 오른쪽 위(End)로 가는 최단 경로의 수는?

- **해석:** 오른쪽(R)으로 3번, 위쪽(U)으로 2번 이동해야 함.
- **문제 변환:** R, R, R, U, U를 일렬로 나열하는 경우의 수와 같음.
- 계산: $\frac{5!}{3! \times 2!} = \frac{120}{6 \times 2} = 10$

### 문제 3: 사전식 배열 (Lexicographical Order)

문자 {A, B, C}를 사용하여 만든 3자리 단어들을 사전 순으로 나열할 때, **"CBA"**는 몇 번째 단어인가?

1.  **A로 시작하는 경우:** A \_ \_ $\rightarrow 2! = 2$개 (ABC, ACB)
2.  **B로 시작하는 경우:** B \_ \_ $\rightarrow 2! = 2$개 (BAC, BCA)
3.  **C로 시작하는 경우:**
    - CA \_ $\rightarrow 1$개 (CAB)
    - CB \_ $\rightarrow 1$개 (CBA) - **도착**

- **총 순서:** $2 + 2 + 1 + 1 = 6$번째.

## 4. 문제 해결 전략 (Problem Solving Strategies)

- **치환(Substitution):** 최단 경로 문제는 가로/세로 이동을 문자로 치환하여 '같은 것이 있는 순열' 공식으로 풉니다.
- **단계별 카운팅:** 사전식 배열 문제는 앞자리부터 고정시키며 건너뛰는 경우의 수를 누적하여 계산합니다.
- **제약 조건 우선:** 조건이 까다로운 문자(고정 위치 등)를 먼저 배치하고 나머지를 계산합니다.

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 최단 경로와 사전식 순서를 계산하는 코드입니다.

```python
import math
from itertools import permutations

# 문제 1: APPLE 배열 수
def count_permutations_with_repetition(n, duplicates):
    denom = 1
    for k in duplicates:
        denom *= math.factorial(k)
    return math.factorial(n) // denom

print(f"APPLE: {count_permutations_with_repetition(5, [2])}") # 60

# 문제 2: Grid Paths (3x2)
# RRRUU -> 5 items, 3 R's, 2 U's
print(f"Grid Paths (3x2): {count_permutations_with_repetition(5, [3, 2])}") # 10

# 문제 3: 사전식 순서 (Lexicographical Order)
chars = ['A', 'B', 'C']
target = ('C', 'B', 'A')
# 모든 순열 생성 및 정렬
perms = sorted(list(permutations(chars)))
rank = perms.index(target) + 1
print(f"Rank of CBA: {rank}") # 6
```

## 6. 요약 (Summary)

- **Grid Paths:** 가로 $x$칸, 세로 $y$칸일 때 $\frac{(x+y)!}{x!y!}$ (조합 $\binom{x+y}{x}$와 동일).
- **사전식 배열:** 앞자리부터 차근차근 경우의 수를 더해나간다.
- 단어 배열 문제는 순열, 조합, 기하학적 경로 문제 등 다양한 형태로 변형되어 출제됩니다.
