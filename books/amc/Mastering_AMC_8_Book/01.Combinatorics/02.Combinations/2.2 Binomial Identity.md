# 2.2 이항 계수 항등식 (Binomial Identity)

## 1. 개요 (Overview)

이항 계수(Binomial Coefficient)인 조합 $\binom{n}{r}$은 서로 다양한 수학적 관계를 가집니다. 이러한 관계식(항등식)을 이해하면 복잡한 조합 계산을 단순화하거나 파스칼의 삼각형(Pascal's Triangle)의 성질을 이해하는 데 큰 도움이 됩니다.

## 2. 파스칼의 항등식 (Pascal's Identity)

가장 유명하고 중요한 항등식으로, 파스칼의 삼각형을 구성하는 원리입니다.

### 2.1 공식

$$ \binom{n}{r} = \binom{n-1}{r-1} + \binom{n-1}{r} $$
(단, $1 \le r \le n-1$)

### 2.2 직관적 증명 (Combinatorial Proof)

$n$명의 학생 중 $r$명의 대표를 뽑는 상황을 가정해 봅시다. 특정 학생 A에 주목하여 경우의 수를 두 가지로 나눌 수 있습니다.

1.  **A가 포함되는 경우:** A는 이미 뽑혔으므로, 나머지 $n-1$명 중에서 $r-1$명을 더 뽑아야 합니다. $\rightarrow \binom{n-1}{r-1}$
2.  **A가 포함되지 않는 경우:** A를 제외한 나머지 $n-1$명 중에서 $r$명을 모두 뽑아야 합니다. $\rightarrow \binom{n-1}{r}$

이 두 경우는 겹치지 않으며(Disjoint), 전체 경우의 수를 구성하므로 두 값을 더하면 전체 조합의 수 $\binom{n}{r}$이 됩니다.

## 3. 이항 계수의 합 (Sum of Coefficients)

### 3.1 공식

$$ \binom{n}{0} + \binom{n}{1} + \binom{n}{2} + \dots + \binom{n}{n} = 2^n $$
$$ \sum\_{k=0}^{n} \binom{n}{k} = 2^n $$

### 3.2 의미

원소가 $n$개인 집합의 **부분집합(Subset)의 총 개수**와 같습니다. 각 원소는 부분집합에 '포함되거나' 또는 '포함되지 않거나'의 2가지 선택권을 가지므로, $2 \times 2 \times \dots \times 2 = 2^n$가지가 됩니다.

## 4. 예제 (Examples)

### 예제 1: 파스칼의 항등식 활용

$\binom{4}{2} = 6$, $\binom{4}{3} = 4$임을 알고 있을 때, $\binom{5}{3}$의 값은?
$$ \binom{5}{3} = \binom{4}{2} + \binom{4}{3} = 6 + 4 = 10 $$

### 예제 2: 부분집합의 개수

집합 $\{A, B, C\}$의 모든 부분집합의 개수는?

- 공식 이용: $2^3 = 8$
- 직접 합산:
  - 원소 0개: $\emptyset$ (1개)
  - 원소 1개: $\{A\}, \{B\}, \{C\}$ (3개)
  - 원소 2개: $\{A,B\}, \{A,C\}, \{B,C\}$ (3개)
  - 원소 3개: $\{A,B,C\}$ (1개)
  - 합계: $1 + 3 + 3 + 1 = 8$

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 파스칼의 항등식과 이항 계수의 합 공식을 검증해 봅니다.

### 5.1 파스칼의 항등식 검증

```python
import math

def nCr(n, r):
    return math.comb(n, r)

n = 10
r = 4

# 좌변: nCr
lhs = nCr(n, r)

# 우변: (n-1)C(r-1) + (n-1)Cr
rhs = nCr(n-1, r-1) + nCr(n-1, r)

print(f"LHS: {lhs}, RHS: {rhs}")
print(f"Pascal's Identity Verified: {lhs == rhs}")
# 출력: LHS: 210, RHS: 210
# 출력: Pascal's Identity Verified: True
```

### 5.2 이항 계수의 합 검증

```python
n = 5
sum_coeffs = 0

for k in range(n + 1):
    sum_coeffs += math.comb(n, k)

print(f"Sum of coefficients for n={n}: {sum_coeffs}")
print(f"2^{n}: {2**n}")
# 출력: Sum of coefficients for n=5: 32
# 출력: 2^5: 32
```

## 6. 요약 (Summary)

- **파스칼의 항등식:** $\binom{n}{r} = \binom{n-1}{r-1} + \binom{n-1}{r}$ (특정 원소 포함 여부로 분류)
- **계수의 합:** $\sum \binom{n}{k} = 2^n$ (부분집합의 총 개수)
- 이 항등식들은 파스칼의 삼각형을 구성하고 부분집합 문제를 해결하는 데 필수적입니다.
