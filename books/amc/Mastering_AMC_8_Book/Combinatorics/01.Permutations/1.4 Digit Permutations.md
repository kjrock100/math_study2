# 1.4 숫자 순열 (Digit Permutations)

## 1. 개요 (Overview)

숫자 순열은 주어진 숫자 카드(Digits)를 사용하여 정수를 만드는 문제입니다. 일반적인 순열과 유사하지만, **맨 앞자리에 0이 올 수 없다**는 중요한 제약 조건이 존재합니다. 또한, 짝수/홀수 만들기나 배수 판별법과 결합되어 출제되는 경우가 많습니다.

## 2. 주요 개념 및 전략 (Key Concepts & Strategies)

### 2.1 0의 처리 (Handling Zero)

$n$자리 정수를 만들 때, 가장 높은 자릿수(맨 앞)에는 0이 올 수 없습니다.

- **전략:** 맨 앞자리를 먼저 채우거나, 전체 순열에서 맨 앞이 0인 경우를 뺍니다.
- **슬롯 방식(Slot Method):**
  1.  맨 앞자리: 0을 제외한 숫자 중 선택.
  2.  나머지 자리: 남은 숫자들(0 포함)로 순열 계산.

### 2.2 짝수와 홀수 (Even and Odd Numbers)

정수의 짝수/홀수 여부는 **일의 자리(Last Digit)** 숫자가 결정합니다.

- **짝수:** 일의 자리가 0, 2, 4, 6, 8
- **홀수:** 일의 자리가 1, 3, 5, 7, 9
- **주의:** 0이 포함된 숫자 집합에서 짝수를 만들 때는, **일의 자리가 0인 경우**와 **0이 아닌 짝수인 경우**로 나누어(Case Work) 계산해야 안전합니다. (맨 앞자리 0 제한 때문)

## 3. 예제 (Examples)

### 예제 1: 0이 포함된 경우 (Basic with Zero)

숫자 카드 $\{0, 1, 2, 3\}$ 중 3장을 사용하여 만들 수 있는 3자리 정수의 개수:

1.  **백의 자리:** $\{1, 2, 3\}$ 중 선택 (3가지)
2.  **십의 자리:** 남은 3개(0 포함) 중 선택 (3가지)
3.  **일의 자리:** 남은 2개 중 선택 (2가지)

$$ 3 \times 3 \times 2 = 18 \text{개} $$

### 예제 2: 짝수 만들기 (Forming Even Numbers)

숫자 카드 $\{0, 1, 2, 3\}$ 중 3장을 사용하여 만들 수 있는 3자리 **짝수**의 개수:

- **Case 1: 일의 자리가 0인 경우** ($\square \square 0$)

  - 백의 자리: $\{1, 2, 3\}$ (3가지)
  - 십의 자리: 남은 2가지
  - $3 \times 2 = 6$

- **Case 2: 일의 자리가 2인 경우** ($\square \square 2$)

  - 백의 자리: $\{1, 3\}$ (0 제외, 2가지)
  - 십의 자리: 남은 2가지 (0 가능)
  - $2 \times 2 = 4$

- **총합:** $6 + 4 = 10 \text{개}$

## 4. 코드 구현 (Code Implementation)

Python을 사용하여 숫자 순열을 생성하고 유효성을 검사하는 방법입니다.

### 4.1 0 처리 및 짝수 필터링

```python
from itertools import permutations

digits = ['0', '1', '2', '3']
r = 3

# 모든 순열 생성
perms = list(permutations(digits, r))

valid_numbers = []
even_count = 0

for p in perms:
    # 1. 맨 앞자리가 '0'이면 3자리 수가 아님 (Leading Zero Check)
    if p[0] == '0':
        continue

    # 튜플을 문자열/숫자로 변환
    num_str = "".join(p)
    num_int = int(num_str)
    valid_numbers.append(num_int)

    # 2. 짝수 확인
    if num_int % 2 == 0:
        even_count += 1

print(f"전체 3자리 수 개수: {len(valid_numbers)}") # 출력: 18
print(f"짝수 개수: {even_count}")                 # 출력: 10
```

## 5. 요약 (Summary)

- **맨 앞자리 주의:** 0은 맨 앞에 올 수 없다.
- **제약 조건 우선:** 짝수/홀수 조건(일의 자리)이나 맨 앞자리 제한을 먼저 고려하여 슬롯을 채운다.
- **케이스 분류:** 0이 포함된 집합에서 짝수를 구할 때는 '일의 자리가 0인 경우'와 '아닌 경우'를 나누어 계산하는 것이 실수를 줄이는 지름길이다.
