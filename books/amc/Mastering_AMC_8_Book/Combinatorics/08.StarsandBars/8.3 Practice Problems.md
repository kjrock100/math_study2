# 8.3 실전 문제 (Practice Problems)

## 1. 개요 (Overview)

이 장에서는 8.1장과 8.2장에서 다룬 중복 조합(Stars and Bars)의 개념을 종합하여 다양한 실전 문제를 해결합니다. 구별되지 않는 대상을 구별되는 상자에 나누어 담는 상황, 방정식의 정수해 개수 구하기, 그리고 제약 조건이 있는 분배 문제 등을 다룹니다.

## 2. 주요 문제 유형 (Key Problem Types)

1.  **기본 분배:** 똑같은 물건을 서로 다른 사람에게 나누어 주기 (빈손 허용 여부 확인).
2.  **메뉴 선택:** $n$가지 메뉴 중 중복을 허용하여 $k$개를 주문하는 경우.
3.  **방정식의 해:** $x_1 + \dots + x_k = n$의 음이 아닌 정수해 또는 양의 정수해 개수.
4.  **제약 조건:** 특정 상자에 들어갈 수 있는 개수에 상한(Upper Bound)이 있는 경우.

## 3. 예제 문제 및 풀이 (Sample Problems & Solutions)

### 문제 1: 아이스크림 가게 (Ice Cream Shop)

초콜릿, 바닐라, 딸기 3가지 맛 중에서 중복을 허용하여 4스쿱(Scoops)을 고르는 방법의 수는?

- **해석:** 3개의 상자(맛)에 4개의 공(스쿱)을 넣는 중복 조합.
- $n=4$ (스쿱), $k=3$ (맛).
- **공식:** $\binom{4 + 3 - 1}{3 - 1} = \binom{6}{2} = 15$가지.

### 문제 2: 양의 정수해 (Positive Integer Solutions)

방정식 $a + b + c + d = 10$을 만족하는 양의 정수해($a, b, c, d \ge 1$)의 개수는?

- **전략:** 미리 1씩 나누어 줍니다 (치환). $n' = 10 - 4 = 6$.
- **공식:** $\binom{n-1}{k-1}$ 또는 $\binom{n' + k - 1}{k - 1}$.
- **계산:** $\binom{10 - 1}{4 - 1} = \binom{9}{3} = \frac{9 \times 8 \times 7}{3 \times 2 \times 1} = 84$가지.

### 문제 3: 상한 조건 (Upper Bound)

똑같은 사탕 5개를 3명의 아이에게 나누어 줄 때, 한 명이 **2개 이하**로만 받을 수 있는 방법의 수는?

- **전체 경우:** $\binom{5+3-1}{2} = \binom{7}{2} = 21$.
- **위반 조건:** 누군가 3개 이상($\ge 3$) 받는 경우.
- **여사건 계산:**
  - 한 명이 3개 이상 받는 경우: 3개를 미리 주고 남은 2개를 3명에게 분배.
  - $\binom{2+3-1}{2} = \binom{4}{2} = 6$.
  - 3명 중 누가 위반할지 선택: $3 \times 6 = 18$.
  - (두 명이 동시에 3개 이상 받을 수는 없음: $3+3=6 > 5$)
- **정답:** $21 - 18 = 3$가지. (해: 2,2,1의 순열들)

## 4. 문제 해결 전략 (Problem Solving Strategies)

- **Stars(n) vs Bars(k-1):** 무엇이 나누어지는 대상($n$)이고, 무엇이 담는 그릇($k$)인지 명확히 구분해야 합니다.
- **치환(Substitution):** "적어도 $a$개" 조건은 $n$에서 $a$를 미리 빼고 생각합니다.
- **여사건(Complementary):** "최대 $m$개" 조건은 전체에서 "$m+1$개 이상"인 경우를 뺍니다.

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 중복 조합 공식을 적용하고, 상한 조건 문제는 브루트 포스(Brute Force)로 검증합니다.

```python
import math
from itertools import product

def stars_and_bars(n, k):
    return math.comb(n + k - 1, k - 1)

# 문제 1: 아이스크림 (n=4, k=3)
print(f"문제 1 정답: {stars_and_bars(4, 3)}") # Expected: 15

# 문제 2: 양의 정수해 (n=10, k=4, >=1)
# 미리 1씩 4개 뺌 -> n=6, k=4 (>=0)
print(f"문제 2 정답: {stars_and_bars(10 - 4, 4)}") # Expected: 84

# 문제 3: 사탕 5개, 아이 3명, Max 2개
# 작은 수이므로 직접 세기 검증
count = 0
# 각 아이가 0~2개 받는 모든 경우의 수 탐색
for p in product(range(3), repeat=3): # (0,0,0) ~ (2,2,2)
    if sum(p) == 5:
        count += 1
        print(f"가능한 해: {p}")

print(f"문제 3 정답: {count}") # Expected: 3
```

## 6. 요약 (Summary)

- **공식:** $\binom{n+k-1}{k-1}$.
- **양의 정수해:** $\binom{n-1}{k-1}$.
- **상한 조건:** 여사건(PIE)을 활용하거나, 숫자가 작으면 직접 케이스를 나열하여 풉니다.
