# 4.2 구별 가능성 (Distinguishability)

## 1. 개요 (Overview)

확률(Probability) 문제를 풀 때 가장 중요한 개념 중 하나는 대상의 **구별 가능성(Distinguishability)**입니다. 경우의 수(Counting)를 셀 때는 구별 가능 여부에 따라 결과가 달라지지만, 확률을 계산할 때는 **모든 대상을 구별 가능한 것으로 취급**해야 각 결과가 일어날 가능성(Equally Likely)을 동등하게 유지할 수 있습니다.

## 2. 주요 개념 (Key Concepts)

### 2.1 구별 가능한 것 vs 구별 불가능한 것

- **구별 가능한(Distinguishable):** 서로 다른 색깔의 공, 번호가 매겨진 카드, 사람 등.
- **구별 불가능한(Indistinguishable):** 똑같은 모양의 동전, 똑같은 색의 사탕 등.

### 2.2 확률 계산의 원칙

물리적으로 구별이 불가능해 보이더라도, 확률 계산을 위한 표본 공간(Sample Space)을 구성할 때는 **서로 다른 개체**로 간주해야 합니다.

- **이유:** 구별 불가능하게 묶어버리면 각 결과가 일어날 확률 가중치가 달라지기 때문입니다.

## 3. 예제 분석 (Example Analysis)

### 예제 1: 똑같은 동전 2개 던지기

똑같이 생긴 동전 2개를 동시에 던질 때, (앞면, 뒷면)이 나올 확률은?

- **잘못된 접근 (Indistinguishable):**

  - 결과는 { (앞, 앞), (앞, 뒤), (뒤, 뒤) } 3가지.
  - 따라서 확률은 $\frac{1}{3}$? $\rightarrow$ **틀림 (Incorrect)**.
  - 이유: (앞, 뒤)가 나올 가능성이 (앞, 앞)보다 2배 높기 때문입니다.

- **올바른 접근 (Distinguishable):**
  - 동전에 가상의 번호를 매깁니다 (동전1, 동전2).
  - 전체 경우: (앞, 앞), (앞, 뒤), (뒤, 앞), (뒤, 뒤) $\rightarrow$ 4가지.
  - (앞, 뒤)가 나오는 경우: (앞, 뒤), (뒤, 앞) $\rightarrow$ 2가지.
  - 확률: $\frac{2}{4} = \frac{1}{2}$.

### 예제 2: 같은 색 공 뽑기

빨간 공 3개, 파란 공 2개가 들어있는 주머니에서 공 2개를 동시에 꺼낼 때, 모두 빨간 공일 확률은?

- 공들이 서로 구별되지 않는다고 해서 단순히 "빨간 공 뽑음"으로 퉁칠 수 없습니다.
- **접근:** 공들을 $R_1, R_2, R_3, B_1, B_2$로 서로 다른 것으로 취급합니다.
- **전체 경우:** 5개 중 2개 선택 $\binom{5}{2} = 10$.
- **사건:** 빨간 공 3개 중 2개 선택 $\binom{3}{2} = 3$.
- **확률:** $\frac{3}{10}$.

## 4. 코드 구현 (Code Implementation)

Python 시뮬레이션을 통해 "구별 불가능하게 보이는 결과"들의 실제 발생 빈도가 다름을 확인합니다.

```python
import random
from collections import Counter

def simulate_coin_flips(n_trials):
    counts = Counter()
    for _ in range(n_trials):
        # 동전 2개를 던짐 (H: Head, T: Tail)
        # 실제로는 서로 다른 동전 2개임
        c1 = random.choice(['H', 'T'])
        c2 = random.choice(['H', 'T'])

        # 결과 관찰 시에는 순서가 없어 보임 (구별 불가능한 것처럼 정렬)
        outcome = tuple(sorted([c1, c2]))
        counts[outcome] += 1

    return counts

trials = 100000
results = simulate_coin_flips(trials)

print(f"총 시도 횟수: {trials}")
for outcome, count in sorted(results.items()):
    prob = count / trials
    print(f"결과 {outcome}: {prob:.4f}")

# 예상 출력:
# 결과 ('H', 'H'): 약 0.25 (1/4)
# 결과 ('H', 'T'): 약 0.50 (2/4) -> (H,T)와 (T,H)가 합쳐짐
# 결과 ('T', 'T'): 약 0.25 (1/4)
```

## 5. 요약 (Summary)

- **Counting vs Probability:** 경우의 수를 셀 때는 구별 가능성이 중요하지만, 확률에서는 **모두 구별 가능한 것**으로 보는 것이 안전하다.
- **동전/주사위:** 똑같은 물체라도 순서쌍(Ordered Pair)으로 생각하여 전체 경우의 수를 구해야 한다.
- **공 뽑기:** 같은 색 공이라도 서로 다른 개체($C(n, r)$)로 취급하여 계산한다.
