# 4.6 독립인가 종속인가? (Dependent or Independent?)

## 1. 개요 (Overview)

확률 문제를 해결할 때 가장 먼저 내려야 할 판단은 **"앞선 사건의 결과가 다음 사건에 영향을 주는가?"**입니다. 이에 따라 사건이 **독립(Independent)**인지 **종속(Dependent)**인지가 결정되며, 계산에 사용하는 공식($P(B)$ vs $P(B|A)$)이 달라집니다.

## 2. 구별 기준 (Criteria for Distinction)

### 2.1 독립 사건 (Independent Events)

- **정의:** 한 사건의 결과가 다른 사건의 확률에 영향을 주지 않음.
- **키워드:** 복원 추출(With Replacement), 동전 던지기, 주사위 굴리기, 룰렛.
- **특징:** 시행을 반복해도 전체 개수(분모)나 특정 대상의 개수(분자)가 변하지 않습니다.
- **공식:** $P(A \cap B) = P(A) \times P(B)$

### 2.2 종속 사건 (Dependent Events)

- **정의:** 한 사건의 결과가 다음 사건의 확률을 변화시킴.
- **키워드:** 비복원 추출(Without Replacement), 카드 뽑기, 제비뽑기, 팀원 선출, 음식 먹기.
- **특징:** 시행이 거듭될수록 전체 개수(분모)가 줄어들고, 앞서 뽑힌 대상에 따라 분자도 변합니다.
- **공식:** $P(A \cap B) = P(A) \times P(B|A)$

## 3. 시나리오 비교 (Scenario Comparison)

빨간 공 3개, 파란 공 2개가 들어있는 주머니에서 공을 2번 꺼낼 때, **두 번 모두 빨간 공**이 나올 확률을 비교해 봅시다.

### 상황 A: 꺼낸 공을 다시 넣을 때 (복원 - 독립)

1.  첫 번째 빨강: $\frac{3}{5}$
2.  공을 다시 넣었으므로 주머니 상태는 원상 복구됨.
3.  두 번째 빨강: $\frac{3}{5}$
4.  **확률:** $\frac{3}{5} \times \frac{3}{5} = \frac{9}{25}$

### 상황 B: 꺼낸 공을 다시 넣지 않을 때 (비복원 - 종속)

1.  첫 번째 빨강: $\frac{3}{5}$
2.  공이 하나 줄었으므로 전체 4개, 빨강 2개 남음.
3.  두 번째 빨강: $\frac{2}{4} = \frac{1}{2}$
4.  **확률:** $\frac{3}{5} \times \frac{1}{2} = \frac{3}{10}$

## 4. 판단 전략 (Decision Strategy)

문제를 읽을 때 다음 질문을 던져보세요.

1.  **"물리적으로 사라지는가?"** (예: 사탕을 먹었다, 사람이 나갔다 $\rightarrow$ 종속)
2.  **"초기화되는가?"** (예: 주사위를 다시 던진다, 카드를 섞어 다시 넣는다 $\rightarrow$ 독립)
3.  **"매우 큰 집단인가?"** (예: 전 국민 중 2명을 뽑을 때, 1명이 줄어드는 것은 확률에 거의 영향이 없으므로 독립으로 근사하기도 함. 하지만 AMC 8 수준에서는 명확히 구분함.)

## 5. 코드 구현 (Code Implementation)

Python을 사용하여 '복원 여부(Replacement)'에 따라 확률이 어떻게 달라지는지 계산하는 함수입니다.

```python
from fractions import Fraction

def calculate_probability_consecutive_picks(total_items, target_items, picks, replacement=True):
    """
    total_items: 전체 개수
    target_items: 원하는 대상의 개수
    picks: 뽑는 횟수
    replacement: 복원 여부 (True=독립, False=종속)
    """
    probability = Fraction(1, 1)
    current_total = total_items
    current_target = target_items

    for _ in range(picks):
        # 현재 상태에서의 확률 곱하기
        probability *= Fraction(current_target, current_total)

        if not replacement:
            # 비복원이면 개수 감소
            current_total -= 1
            current_target -= 1

    return probability

# 예제: 빨강 3, 파랑 2 (총 5개) 중 빨강 2번 연속 뽑기
prob_indep = calculate_probability_consecutive_picks(5, 3, 2, replacement=True)
prob_dep = calculate_probability_consecutive_picks(5, 3, 2, replacement=False)

print(f"독립 사건 (복원): {prob_indep}")  # 출력: 9/25
print(f"종속 사건 (비복원): {prob_dep}")    # 출력: 3/10
```

## 6. 요약 (Summary)

- **독립:** $P(B)$는 변하지 않는다. (주사위, 동전)
- **종속:** $P(B|A)$는 $A$의 결과에 따라 변한다. (카드, 제비뽑기)
- 문제에 "다시 넣는다(Put back)"는 말이 없으면, 물건을 뽑는 행위는 기본적으로 **비복원(종속)**으로 간주해야 합니다.
