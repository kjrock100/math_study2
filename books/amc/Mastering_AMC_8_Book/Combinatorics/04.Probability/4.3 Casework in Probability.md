# 4.3 확률에서의 케이스 분류 (Casework in Probability)

## 1. 개요 (Overview)

복잡한 확률 문제는 한 번에 계산하기 어려운 경우가 많습니다. 이때 문제를 서로 겹치지 않는(Mutually Exclusive) 여러 개의 작은 케이스로 나누어 각각의 확률을 구한 뒤 더하는 방법을 **케이스 분류(Casework)**라고 합니다.

## 2. 핵심 원리 (Key Principles)

### 2.1 배반 사건의 덧셈 정리 (Addition Rule for Disjoint Events)

두 사건 $A$와 $B$가 동시에 일어날 수 없을 때(즉, $A \cap B = \emptyset$), 사건 $A$ 또는 사건 $B$가 일어날 확률은 각 확률의 합과 같습니다.

$$ P(A \text{ or } B) = P(A) + P(B) $$

### 2.2 전략 (Strategy)

1.  **케이스 정의:** 전체 사건을 빠짐없이, 그리고 중복되지 않게 나눕니다.
2.  **개별 계산:** 각 케이스별로 경우의 수 또는 확률을 계산합니다.
3.  **합산:** 구해진 값들을 모두 더합니다.

## 3. 예제 (Examples)

### 예제 1: 주사위 합 (Dice Sums)

두 개의 주사위를 던질 때, 눈의 합이 3 또는 10일 확률은?

- **전체 경우의 수:** $6 \times 6 = 36$
- **Case 1: 합이 3인 경우**
  - (1, 2), (2, 1) $\rightarrow$ 2가지
  - 확률: $\frac{2}{36}$
- **Case 2: 합이 10인 경우**
  - (4, 6), (5, 5), (6, 4) $\rightarrow$ 3가지
  - 확률: $\frac{3}{36}$
- **총 확률:** $\frac{2}{36} + \frac{3}{36} = \frac{5}{36}$

### 예제 2: 같은 색 공 뽑기 (Same Color Balls)

빨간 공 3개, 파란 공 2개가 든 주머니에서 2개를 꺼낼 때, 두 공의 색깔이 같을 확률은?

- **전체 경우의 수:** $\binom{5}{2} = 10$
- **Case 1: 모두 빨간색**
  - $\binom{3}{2} = 3$
- **Case 2: 모두 파란색**
  - $\binom{2}{2} = 1$
- **총 확률:** $\frac{3 + 1}{10} = \frac{4}{10} = \frac{2}{5}$

## 4. 코드 구현 (Code Implementation)

Python을 사용하여 케이스별로 확률을 계산하고 합산하는 과정을 구현합니다.

```python
from math import comb
from fractions import Fraction

def calculate_probability_casework():
    # 예제 2: 빨간 공 3개, 파란 공 2개 중 2개 뽑기
    red_balls = 3
    blue_balls = 2
    total_balls = red_balls + blue_balls
    pick = 2

    # 1. 전체 경우의 수
    total_outcomes = comb(total_balls, pick)

    # 2. Case 1: 모두 빨간 공
    outcomes_red = comb(red_balls, pick)
    prob_red = Fraction(outcomes_red, total_outcomes)

    # 3. Case 2: 모두 파란 공
    outcomes_blue = comb(blue_balls, pick)
    prob_blue = Fraction(outcomes_blue, total_outcomes)

    # 4. 최종 확률 (배반 사건이므로 더하기)
    total_prob = prob_red + prob_blue

    print(f"Case 1 (Red): {prob_red}")
    print(f"Case 2 (Blue): {prob_blue}")
    print(f"Total Probability: {total_prob}")

calculate_probability_casework()
# 출력:
# Case 1 (Red): 3/10
# Case 2 (Blue): 1/10
# Total Probability: 2/5
```

## 5. 요약 (Summary)

- **복잡하면 나눠라:** 한 번에 풀기 어려운 문제는 "또는(OR)"으로 연결된 여러 상황으로 쪼갭니다.
- **중복 주의:** 케이스를 나눌 때는 서로 겹치는 부분이 없는지(Disjoint) 반드시 확인해야 합니다.
- **덧셈 법칙:** 나눈 케이스들의 확률을 더하여 최종 답을 구합니다.
