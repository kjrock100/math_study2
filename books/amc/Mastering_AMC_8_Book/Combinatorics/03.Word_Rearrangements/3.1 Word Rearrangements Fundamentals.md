# 3.1 단어 배열의 기초 (Word Rearrangements Fundamentals)

## 1. 개요 (Overview)

단어 배열(Word Rearrangements)은 주어진 단어의 문자들을 재배열하여 만들 수 있는 서로 다른 문자열의 개수를 세는 문제입니다. 이는 **같은 것이 있는 순열(Permutations with Repetition)**의 대표적인 예시로, 문자가 중복될 때 중복된 경우의 수를 어떻게 처리하는지가 핵심입니다.

## 2. 기본 원리 (Basic Principles)

### 2.1 모든 문자가 다를 때

단어의 모든 문자가 서로 다르다면, 일반적인 순열과 같습니다.
길이가 $n$인 단어의 배열 수: $n!$

### 2.2 문자가 중복될 때 (Distinguishable Permutations)

일부 문자가 동일하다면, 그 문자들끼리 자리를 바꾸는 경우는 겉보기에 구별되지 않습니다. 따라서 전체 순열의 수에서 중복되는 경우만큼 나누어 주어야 합니다.

## 3. 공식 (Formula)

전체 $n$개의 문자 중, 같은 문자가 각각 $n_1, n_2, \dots, n_k$개씩 있을 때, 구별 가능한 배열의 수는 다음과 같습니다.

$$ \frac{n!}{n_1! \times n_2! \times \dots \times n_k!} $$

- $n = n_1 + n_2 + \dots + n_k$ (전체 문자 개수)

## 4. 예제 (Examples)

### 예제 1: 중복이 없는 경우

단어 **"CAT"**의 문자를 나열하는 방법의 수:

- 전체 3글자, 중복 없음.
- $3! = 6$

### 예제 2: 중복이 있는 경우 (간단)

단어 **"MOM"**의 문자를 나열하는 방법의 수:

- 전체 3글자 ($n=3$).
- 'M'이 2개 ($n_1=2$), 'O'가 1개 ($n_2=1$).
- $$ \frac{3!}{2! \times 1!} = \frac{6}{2} = 3 $$
- 실제 나열: MOM, MMO, OMM

### 예제 3: 중복이 많은 경우 (복잡)

단어 **"MISSISSIPPI"**의 문자를 나열하는 방법의 수:

- 전체 11글자 ($n=11$).
- 'M': 1개, 'I': 4개, 'S': 4개, 'P': 2개.
- $$ \frac{11!}{1! \times 4! \times 4! \times 2!} $$
- 계산: $\frac{39,916,800}{1 \times 24 \times 24 \times 2} = 34,650$

## 5. 코드 구현 (Code Implementation)

Python의 `collections.Counter`와 `math.factorial`을 사용하여 같은 것이 있는 순열을 계산하는 함수입니다.

```python
import math
from collections import Counter

def count_word_rearrangements(word):
    # 1. 전체 길이 팩토리얼 계산 (Numerator)
    n = len(word)
    numerator = math.factorial(n)

    # 2. 각 문자의 빈도수 계산
    counts = Counter(word)

    # 3. 분모 계산 (Denominator): 각 문자 개수의 팩토리얼 곱
    denominator = 1
    for count in counts.values():
        denominator *= math.factorial(count)

    return numerator // denominator

# 테스트
word1 = "MOM"
word2 = "MISSISSIPPI"

print(f"'{word1}'의 배열 수: {count_word_rearrangements(word1)}") # 출력: 3
print(f"'{word2}'의 배열 수: {count_word_rearrangements(word2)}") # 출력: 34650
```

## 6. 요약 (Summary)

- **공식:** $\frac{\text{전체 팩토리얼}}{\text{중복 문자 팩토리얼들의 곱}}$
- 중복된 문자가 서로 자리를 바꾸는 경우의 수만큼 나누어 중복을 제거한다는 논리를 이해해야 합니다.
- AMC 8 등 수학 경시대회에서 매우 빈번하게 출제되는 유형입니다.
